<%
form_item.init do |f|
#  f.caption = "Uploading and parsing params"	
  s = f.session_filtr_params
  f.set_fields do |filtr_name|
    html_options = {:action_name => customer_history_parser_prepare_for_upload_path }
  [
  	[
     label(filtr_name, "calculate_on_background", "calculate_on_background"),
 	 select(filtr_name, "calculate_on_background", [["background calculation", true], ["direct calculation", false]], {:selected => s["calculate_on_background"]}, html_options ),

     label(filtr_name, "save_processes_result_to_stat", "Save processes result to stat&"),
 	 select(filtr_name, "save_processes_result_to_stat", [["True", true], ["False", false]], {:selected => s["save_processes_result_to_stat"]}, html_options ),
  	],

  	[
     label(filtr_name, "file_upload_max_size", "File upload max size, Mb"),
     text_field(filtr_name, "file_upload_max_size", html_options.merge({:type => 'text', :value => s["file_upload_max_size"] }) ),

     label(filtr_name, "call_history_max_line_to_process", "Call history max line to process"),
     text_field(filtr_name, "call_history_max_line_to_process", html_options.merge({:type => 'text', :value => s["call_history_max_line_to_process"] }) ),
  	],

  	[
     label(filtr_name, "background_update_frequency", "Background update frequency"),
     text_field(filtr_name, "background_update_frequency", html_options.merge({:type => 'text', :value => s["background_update_frequency"] }) ),

     label(filtr_name, "file_upload_form_method", "File upload form method"),
 	 select(filtr_name, "file_upload_form_method", [["Post", 'post'], ["Get", 'get']], {:selected => s["file_upload_form_method"]}, html_options ),
  	],

  	[
     label(filtr_name, "file_upload_remote_mode", "File upload remote mode"),
 	 select(filtr_name, "file_upload_remote_mode", [["True", true], ["False", false]], {:selected => s["file_upload_remote_mode"]}, html_options ),

     label(filtr_name, "file_upload_turbolink_mode", "File upload turbolink mode"),
 	 select(filtr_name, "file_upload_turbolink_mode", [["True", true], ["False", false]], {:selected => s["file_upload_turbolink_mode"]}, html_options ),
  	],

  	[
     label(filtr_name, "sleep_after_file_uploading", "Sleep after file uploading, c"),
     text_field(filtr_name, "sleep_after_file_uploading", html_options.merge({:type => 'text', :value => s["sleep_after_file_uploading"] }) ),

  	],

  ]
	    
  end
end
%>
